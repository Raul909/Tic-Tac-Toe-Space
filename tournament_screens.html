  <!-- Tournament Lobby -->
  <div x-show="screen === 'tournament-lobby'" class="content-layer min-h-screen flex items-center justify-center p-4">
    <div class="glass nasa-bracket rounded-lg p-8 text-center shadow-2xl w-full max-w-lg">
      <div class="text-xl mb-4 text-nasa tracking-wider">TOURNAMENT LOBBY</div>
      <div class="text-6xl font-bold text-nasa mb-2 tracking-widest" x-text="tournamentCode"></div>
      <div class="text-gray-400 mb-6 text-sm tracking-wide">SHARE CODE TO JOIN</div>

      <div class="space-y-2 mb-8">
        <template x-for="(player, index) in tournamentPlayers" :key="index">
          <div class="glass p-3 flex justify-between items-center">
            <span class="text-nasa font-bold" x-text="'P' + (index + 1)"></span>
            <span class="font-mono" x-text="player.name"></span>
            <span class="text-green-400 text-xs">READY</span>
          </div>
        </template>
        <template x-for="i in (4 - tournamentPlayers.length)" :key="'empty-' + i">
          <div class="glass p-3 flex justify-between items-center opacity-50">
             <span class="text-gray-600 font-bold">--</span>
             <span class="text-gray-600">WAITING...</span>
          </div>
        </template>
      </div>

      <button @click="setScreen('lobby')" class="block mx-auto text-gray-400 hover:text-white transition">‚Üê ABORT</button>
    </div>
  </div>

  <!-- Tournament Bracket -->
  <div x-show="screen === 'tournament-bracket'" class="content-layer min-h-screen flex items-center justify-center p-4">
    <div class="glass nasa-bracket rounded-lg p-8 w-full max-w-4xl shadow-2xl">
      <h2 class="text-3xl font-bold text-center mb-2 tracking-widest text-nasa">TOURNAMENT BRACKET</h2>
      <div class="text-center mb-8 text-sm text-gray-400" x-text="tournamentStatus === 'completed' ? 'CHAMPION DECLARED' : 'IN PROGRESS'"></div>

      <div x-show="tournamentChampion" class="text-center mb-8 animate-bounce">
         <div class="text-6xl mb-2">üèÜ</div>
         <div class="text-2xl font-bold text-nasa">CHAMPION</div>
         <div class="text-4xl font-bold text-white" x-text="tournamentChampion"></div>
      </div>

      <div class="flex justify-around items-center gap-8 relative">
        <!-- Semifinals Column -->
        <div class="space-y-12 flex-1">
          <!-- Match 1 -->
          <div class="glass p-4 relative" :class="tournamentMatches[0]?.winner !== null ? 'opacity-50' : ''">
             <div class="text-xs text-nasa mb-2">SEMIFINAL 1</div>
             <div class="flex justify-between p-2 border-b border-gray-700" :class="tournamentMatches[0]?.winner === 0 ? 'text-nasa font-bold' : ''">
               <span x-text="tournamentPlayers[tournamentMatches[0]?.p1]?.name || '...'"></span>
               <span x-show="tournamentMatches[0]?.winner === 0">‚úì</span>
             </div>
             <div class="flex justify-between p-2" :class="tournamentMatches[0]?.winner === 1 ? 'text-nasa font-bold' : ''">
               <span x-text="tournamentPlayers[tournamentMatches[0]?.p2]?.name || '...'"></span>
               <span x-show="tournamentMatches[0]?.winner === 1">‚úì</span>
             </div>
          </div>

          <!-- Match 2 -->
          <div class="glass p-4 relative" :class="tournamentMatches[1]?.winner !== null ? 'opacity-50' : ''">
             <div class="text-xs text-nasa mb-2">SEMIFINAL 2</div>
             <div class="flex justify-between p-2 border-b border-gray-700" :class="tournamentMatches[1]?.winner === 2 ? 'text-nasa font-bold' : ''">
               <span x-text="tournamentPlayers[tournamentMatches[1]?.p1]?.name || '...'"></span>
               <span x-show="tournamentMatches[1]?.winner === 2">‚úì</span>
             </div>
             <div class="flex justify-between p-2" :class="tournamentMatches[1]?.winner === 3 ? 'text-nasa font-bold' : ''">
               <span x-text="tournamentPlayers[tournamentMatches[1]?.p2]?.name || '...'"></span>
               <span x-show="tournamentMatches[1]?.winner === 3">‚úì</span>
             </div>
          </div>
        </div>

        <!-- Final Column -->
        <div class="flex-1">
           <div class="glass p-6 border-2 border-nasa/50 relative">
             <div class="text-xs text-nasa mb-2 text-center">FINAL MISSION</div>
             <div class="flex justify-between p-3 border-b border-gray-700" :class="tournamentMatches[2]?.winner === tournamentMatches[2]?.p1 && tournamentMatches[2]?.p1 !== null ? 'text-nasa font-bold' : ''">
               <span x-text="tournamentMatches[2]?.p1 !== null ? tournamentPlayers[tournamentMatches[2]?.p1]?.name : '...'"></span>
               <span x-show="tournamentMatches[2]?.winner === tournamentMatches[2]?.p1 && tournamentMatches[2]?.p1 !== null">üëë</span>
             </div>
             <div class="flex justify-between p-3" :class="tournamentMatches[2]?.winner === tournamentMatches[2]?.p2 && tournamentMatches[2]?.p2 !== null ? 'text-nasa font-bold' : ''">
               <span x-text="tournamentMatches[2]?.p2 !== null ? tournamentPlayers[tournamentMatches[2]?.p2]?.name : '...'"></span>
               <span x-show="tournamentMatches[2]?.winner === tournamentMatches[2]?.p2 && tournamentMatches[2]?.p2 !== null">üëë</span>
             </div>
           </div>
        </div>
      </div>

      <div class="mt-8 text-center">
        <button @click="setScreen('lobby')" class="bg-gray-800 px-6 py-2 rounded hover:bg-gray-700 transition font-bold">EXIT TO LOBBY</button>
      </div>
    </div>
  </div>
